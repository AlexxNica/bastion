<div class="loading-mask loading-mask-panel icon-3x" ng-show="panel.loading">
  <i class="icon-spinner icon-spin"></i>
  {{ "Loading..." | i18n }}
</div>

<section class="nutupane-details" ng-cloak alch-container-scroll>

  <header class="details-header">
    <h2 class="fl">{{ "System \"%systemName\"" | i18n: {systemName: system.name} }}</h2>

    <div class="details-actions fr">
      <button class="btn-mini btn-danger" ng-disabled="system.readonly" ng-click="showConfirm = true">{{ "Remove System" | i18n }}</button>
      <button class="btn-mini" ng-click="table.closeItem()">
        <i class="icon-remove"></i>
        {{ "Close" | i18n }}
      </button>
      <div alch-confirm-modal="removeSystem(system)" show-confirm="showConfirm">
        {{ "Are you sure you want to remove system \"%system\"?" | i18n: {system: system.name} }}
      </div>
    </div>
  </header>

  <nav class="details-navigation">
    <ul>
      <li>
        <a class="clickable" ng-click="transitionTo('systems.details.info')" ng-class="{active: isState('systems.details.info')}">{{ "Details" | i18n }}</a>
      </li>
      <li>
        <a class="clickable" ng-click="transitionTo('systems.details.subscriptions')" ng-class="{active: isState('systems.details.subscriptions')}">{{ "Subscriptions" | i18n }}</a>
      </li>
      <li>
        <a class="clickable" ng-click="transitionTo('systems.details.events.index')" ng-class="{active: stateIncludes('systems.details.events')}">{{ "Events" | i18n }}</a>
      </li>
      <li>
        <a class="clickable" ng-click="transitionTo('systems.details.packages')" ng-class="{active: isState('systems.details.packages')}">{{ "Packages" | i18n }}</a>
      </li>
      <li>
        <a class="clickable" ng-click="transitionTo('systems.details.errata.index')" ng-class="{active: isState('systems.details.errata.index')}">{{ "Errata" | i18n }}</a>
      </li>
    </ul>
  </nav>

  <div class="flash_hud" ng-show="saveSuccess">
    <a class="control clickable" title="Close" ng-click="saveSuccess = false"></a>
    <ul class="flash_messages success">
      <li>
        {{ "Save successful" | i18n }}
      </li>
    </ul>
  </div>

  <div class="flash_hud" ng-show="saveError">
    <a class="control clickable" title="Close" ng-click="saveError = false"></a>
    <ul class="flash_messages error">
      <li>
        {{ "Error occurred saving:" | i18n }}
      </li>
      <ul>
        <li ng-repeat="error in errors">{{ error }}</li>
      </ul>
    </ul>
  </div>

  <div ui-view></div>
</section>
